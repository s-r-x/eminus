{"version":3,"file":"iframe.07e0ac60.js","sources":["../../vite/modulepreload-polyfill","../../.storybook/preview.js","../../src/utils/extract-pointer-coords.ts","../../src/utils/is-in-range.ts","../../src/utils/map-number.ts","../../src/utils/is-nil.ts","../../src/utils/clamp.ts","../../src/components/Marks/Mark.tsx","../../src/components/Marks/index.tsx","../../src/components/Track/index.tsx","../../src/components/Controls/Control.tsx","../../src/components/Controls/index.tsx","../../src/components/Tooltip/index.tsx","../../src/components/Root/index.tsx","../../src/utils/find-nearest-number-idx.ts","../../src/utils/is-arrays-eq.ts","../../src/utils/sort-array.ts","../../src/utils/is-empty.ts","../../src/components/Root/Uncontrolled.tsx","../../../../../../../virtual:/@storybook/builder-vite/vite-app.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export const parameters = {\n  layout: 'centered',\n  options: {\n    storySort: {\n      order: [\n        'Playground',\n        'Controlled and Uncontrolled',\n        'Styling',\n        'Tooltips',\n        'Aria',\n      ],\n    },\n  },\n};\n","import React from 'react';\n\ntype Event = TouchEvent | MouseEvent | React.MouseEvent | React.TouchEvent;\n\nexport const extractPointerCoords = (e: Event) => {\n  if ('touches' in e) {\n    return {\n      x: e.touches[0].clientX,\n      y: e.touches[0].clientY,\n    };\n  }\n  return {\n    x: e.clientX,\n    y: e.clientY,\n  };\n};\n","import { Range } from '../typings/shared';\n\nexport const isInRange = (value: number, [start, end]: Range): boolean => {\n  return value >= Math.min(start, end) && value <= Math.max(start, end);\n};\n","export const mapNumber = (\n  x: number,\n  a: number,\n  b: number,\n  c: number,\n  d: number\n): number => (x - a) * ((d - c) / (b - a)) + c;\n\nexport const mapNumberToPercent = (x: number, a: number, b: number) => {\n  return mapNumber(x, a, b, 0, 100);\n};\n","export function isNil<T>(value: T): boolean {\n  return typeof value === 'undefined' || value === null;\n}\n","import { isNil } from './is-nil';\n\nexport const clamp = (value: number, min: number, max: number): number => {\n  if (isNil(value)) return min;\n  return Math.min(Math.max(min, value), max);\n};\n","import React from 'react';\nimport type {\n  Mark as TMark,\n  MarkLabelFormatter,\n} from '../../typings/root-props';\nimport { mapNumberToPercent } from '../../utils/map-number';\nimport clsx from 'clsx';\nimport { clamp } from '../../utils/clamp';\n\ntype Props = {\n  vertical?: boolean;\n  mark: TMark;\n  min: number;\n  max: number;\n  isActive: boolean;\n  onMouseDown: (value: number) => void;\n  labelFormatter?: MarkLabelFormatter;\n};\n\nclass Mark extends React.PureComponent<Props> {\n  onMouseDown = (e: React.MouseEvent | React.TouchEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onMouseDown(this.value);\n  };\n  get label(): React.ReactElement | string | number {\n    return this.props.labelFormatter\n      ? this.props.labelFormatter(this.props.mark)\n      : typeof this.props.mark === 'number'\n      ? this.props.mark\n      : this.props.mark.label || this.props.mark.value;\n  }\n  get value(): number {\n    return typeof this.props.mark === 'number'\n      ? this.props.mark\n      : this.props.mark.value;\n  }\n  get sharedStyle(): React.CSSProperties {\n    const x = mapNumberToPercent(this.value, this.props.min, this.props.max);\n    return {\n      [this.props.vertical ? 'top' : 'left']: clamp(x, 0, 100) + '%',\n    };\n  }\n  render() {\n    const { sharedStyle } = this;\n    return (\n      <div\n        className={clsx(\n          'Eminus-mark',\n          this.props.isActive && 'Eminus-mark--active'\n        )}\n        onTouchStart={this.onMouseDown}\n        onMouseDown={this.onMouseDown}\n      >\n        <div style={sharedStyle} className=\"Eminus-mark-value\" />\n        <div style={sharedStyle} className=\"Eminus-mark-label\">\n          {this.label}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Mark;\n","import React from 'react';\nimport type { MarkLabelFormatter, RootProps } from '../../typings/root-props';\nimport { Range } from '../../typings/shared';\nimport { isInRange } from '../../utils/is-in-range';\nimport Mark from './Mark';\n\nconst defaultProps: Required<Pick<RootProps, 'marks'>> = {\n  marks: [],\n};\ntype Props = typeof defaultProps & {\n  range: Range;\n  min: number;\n  max: number;\n  vertical?: boolean;\n  onMouseDown: (value: number) => void;\n  labelFormatter?: MarkLabelFormatter;\n};\nconst Marks = (props: Props) => {\n  return (\n    <div className=\"Eminus-marks\">\n      {props.marks.map((mark, idx) => (\n        <Mark\n          vertical={props.vertical}\n          labelFormatter={props.labelFormatter}\n          onMouseDown={props.onMouseDown}\n          isActive={isInRange(\n            typeof mark === 'number' ? mark : mark.value,\n            props.range\n          )}\n          key={idx}\n          min={props.min}\n          max={props.max}\n          mark={mark}\n        />\n      ))}\n    </div>\n  );\n};\nMarks.defaultProps = defaultProps;\nexport default Marks;\n","import React from 'react';\nimport { RootProps } from '../../typings/root-props';\nimport { Range } from '../../typings/shared';\nimport { mapNumberToPercent } from '../../utils/map-number';\n\ntype Props = Pick<RootProps, 'disabled' | 'hideTrackProgress'> & {\n  range: Range;\n  vertical?: boolean;\n  min: number;\n  max: number;\n};\n\nclass Track extends React.Component<Props> {\n  get range(): Range {\n    const { range, min, max } = this.props;\n    return [\n      mapNumberToPercent(range[0], min, max),\n      mapNumberToPercent(range[1], min, max),\n    ];\n  }\n  get progressStyle(): React.CSSProperties {\n    const { range } = this;\n    return {\n      [this.props.vertical ? 'top' : 'left']: range[0] + '%',\n      [this.props.vertical ? 'height' : 'width']: range[1] - range[0] + '%',\n    };\n  }\n  render() {\n    return (\n      <div className=\"Eminus-track\">\n        {!this.props.hideTrackProgress && (\n          <div className=\"Eminus-track-progress\" style={this.progressStyle} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Track;\n","import React from 'react';\nimport {\n  ControlBlurFn,\n  ControlFocusFn,\n  PointerDownFn,\n} from '../../typings/event-fns';\nimport { mapNumberToPercent } from '../../utils/map-number';\n\nexport type Props = {\n  value: number;\n  idx: number;\n  vertical?: boolean;\n  min: number;\n  max: number;\n  step: number;\n  disabled?: boolean;\n  onBlur: ControlBlurFn;\n  onFocus: ControlFocusFn;\n  onPointerDown: PointerDownFn;\n  onMouseEnter: (idx: number) => void;\n  onMouseLeave: () => void;\n  ariaLabel?: string;\n  ariaLabelledBy?: string;\n  ariaDescribedBy?: string;\n  ariaValueText?: string;\n  isDragging?: boolean;\n  isActive: boolean;\n};\n\nclass Control extends React.PureComponent<Props> {\n  onBlur: React.FocusEventHandler<HTMLDivElement> = e => {\n    this.props.onBlur(e, this.props.idx);\n  };\n  onFocus: React.FocusEventHandler<HTMLDivElement> = e => {\n    this.props.onFocus(e, this.props.idx);\n  };\n  onMouseEnter = () => {\n    this.props.onMouseEnter(this.props.idx);\n  };\n  onPointerDown = (e: React.TouchEvent | React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onPointerDown(e, this.props.idx);\n  };\n  render() {\n    const { props } = this;\n    return (\n      <div\n        aria-valuetext={props.ariaValueText}\n        aria-disabled={props.disabled}\n        aria-label={props.ariaLabel}\n        aria-labelledby={props.ariaLabelledBy}\n        aria-describedby={props.ariaDescribedBy}\n        aria-valuemin={props.min}\n        aria-valuemax={props.max}\n        aria-valuenow={props.value}\n        aria-orientation={props.vertical ? 'vertical' : 'horizontal'}\n        onTouchStart={this.onPointerDown}\n        onMouseDown={this.onPointerDown}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={props.onMouseLeave}\n        style={{\n          [props.vertical ? 'top' : 'left']:\n            mapNumberToPercent(props.value, props.min, props.max) + '%',\n          pointerEvents:\n            props.disabled || (props.isDragging && !props.isActive)\n              ? 'none'\n              : 'auto',\n          cursor: props.isDragging && props.isActive ? 'inherit' : 'grab',\n        }}\n        data-idx={props.idx}\n        role=\"slider\"\n        tabIndex={props.disabled ? undefined : 0}\n        className=\"Eminus-control\"\n      />\n    );\n  }\n}\nexport default Control;\n","import React from 'react';\nimport {\n  ControlBlurFn,\n  ControlFocusFn,\n  PointerDownFn,\n} from '../../typings/event-fns';\nimport { RootProps } from '../../typings/root-props';\nimport Control from './Control';\n\nconst defaultProps: Required<\n  Pick<RootProps, 'ariaLabel' | 'ariaLabelledBy' | 'ariaDescribedBy'>\n> = {\n  ariaLabel: [],\n  ariaLabelledBy: [],\n  ariaDescribedBy: [],\n};\ntype Props = typeof defaultProps &\n  Pick<RootProps, 'disabled' | 'ariaValueTextFormatter' | 'vertical'> & {\n    min: number;\n    max: number;\n    step: number;\n    activeIdx: number;\n    isDragging: boolean;\n    onMouseEnter: (idx: number) => void;\n    onMouseLeave: () => void;\n    onPointerDown: PointerDownFn;\n    onBlur: ControlBlurFn;\n    onFocus: ControlFocusFn;\n    values: number[];\n  };\n\nconst Controls = (props: Props) => {\n  return (\n    <div className=\"Eminus-handlers\">\n      {props.values.map((n, idx) => (\n        <Control\n          vertical={props.vertical}\n          ariaLabel={props.ariaLabel[idx]}\n          ariaLabelledBy={props.ariaLabelledBy[idx]}\n          ariaDescribedBy={props.ariaDescribedBy[idx]}\n          ariaValueText={\n            props.ariaValueTextFormatter && props.ariaValueTextFormatter(n, idx)\n          }\n          isDragging={props.isDragging}\n          isActive={props.activeIdx === idx}\n          disabled={props.disabled}\n          step={props.step}\n          min={props.min}\n          max={props.max}\n          idx={idx}\n          value={n}\n          key={idx}\n          onBlur={props.onBlur}\n          onFocus={props.onFocus}\n          onPointerDown={props.onPointerDown}\n          onMouseEnter={props.onMouseEnter}\n          onMouseLeave={props.onMouseLeave}\n        />\n      ))}\n    </div>\n  );\n};\nControls.defaultProps = defaultProps;\n\nexport default Controls;\n","import React from 'react';\nimport { isNil } from '../../utils/is-nil';\nimport { RootProps } from '../../typings/root-props';\nimport { mapNumberToPercent } from '../../utils/map-number';\n\ntype Props = Pick<RootProps, 'tooltipFormatter' | 'tooltipRenderer'> & {\n  value: number;\n  vertical?: boolean;\n  min: number;\n  max: number;\n};\nconst Tooltip = (props: Props) => {\n  const content = props.tooltipFormatter\n    ? props.tooltipFormatter(props.value)\n    : props.value;\n  if (isNil(content) || content === '') return null;\n  const style: React.CSSProperties = {\n    [props.vertical ? 'top' : 'left']:\n      mapNumberToPercent(props.value, props.min, props.max) + '%',\n  };\n  if (props.tooltipRenderer) {\n    return props.tooltipRenderer({ style, value: props.value });\n  }\n  return (\n    <div data-value={props.value} style={style} className=\"Eminus-tooltip\">\n      {content}\n    </div>\n  );\n};\n\nexport default Tooltip;\n","import React, { Component } from 'react';\nimport { extractPointerCoords } from '../../utils/extract-pointer-coords';\nimport { findNearestNumberIdx } from '../../utils/find-nearest-number-idx';\nimport { RootProps } from '../../typings/root-props';\nimport Marks from '../Marks';\nimport Track from '../Track';\nimport clsx from 'clsx';\nimport { isEmpty } from '../../utils/is-empty';\nimport { Range } from '../../typings/shared';\nimport Controls from '../Controls';\nimport Tooltip from '../Tooltip';\nimport {\n  ControlBlurFn,\n  ControlFocusFn,\n  PointerDownFn,\n} from '../../typings/event-fns';\nimport { sortArray } from '../../utils/sort-array';\nimport { isNil } from '../../utils/is-nil';\nimport { clamp } from '../../utils/clamp';\nimport { isArraysEq } from '../../utils/is-arrays-eq';\n\ntype MoveDir = -1 | 1;\ntype Props = RootProps;\ntype State = {\n  isDragging: boolean;\n  activeIdx: number;\n  hoverIdx: number;\n  isFocused: boolean;\n  disableFocusTooltip: boolean;\n};\n\nclass Eminus extends Component<Props, State> {\n  static defaultProps: Omit<Props, 'value' | 'onChange'> = {\n    min: 0,\n    max: 100,\n    step: 1,\n    disableCross: false,\n  };\n  state: State = {\n    disableFocusTooltip: false,\n    isDragging: false,\n    isFocused: false,\n    activeIdx: -1,\n    hoverIdx: -1,\n  };\n  // deal with fast mousemoves\n  mouseMoveState = {\n    activeIdx: -1,\n    values: [] as number[],\n  };\n  rootRef = React.createRef<HTMLDivElement>();\n  // events\n  handleMouseDown(value: number) {\n    const nearest = findNearestNumberIdx(this.value, value);\n    if (nearest === -1) return;\n    this.mouseMoveState.activeIdx = nearest;\n    this.mouseMoveState.values = this.value;\n    this.setState({\n      activeIdx: nearest,\n      isDragging: true,\n    });\n    window.addEventListener('mousemove', this.onMouseMove);\n    window.addEventListener('touchmove', this.onMouseMove);\n    window.addEventListener('mouseup', this.onMouseUp);\n    window.addEventListener('touchend', this.onMouseUp);\n    document.body.classList.add('EminusGlobal--dragging');\n    this.moveControl(value, nearest);\n    this.$focusControl(nearest);\n  }\n  onRootMouseDown = (e: React.MouseEvent | React.TouchEvent) => {\n    e.preventDefault();\n    const point = extractPointerCoords(e);\n    const value = this.extractValueFromClickPoint(\n      this.props.vertical ? point.y : point.x\n    );\n    this.handleMouseDown(value);\n  };\n  onMarkMouseDown = (value: number) => {\n    this.handleMouseDown(value);\n  };\n  onMouseMove = (e: MouseEvent | TouchEvent) => {\n    e.preventDefault();\n    const { activeIdx } = this;\n    if (activeIdx === -1) return;\n    if (this.state.hoverIdx !== -1 && !this.state.disableFocusTooltip) {\n      this.setState({\n        disableFocusTooltip: true,\n      });\n    }\n    const point = extractPointerCoords(e);\n    const newValue = this.extractValueFromClickPoint(\n      this.props.vertical ? point.y : point.x\n    );\n    this.moveControl(newValue, this.mouseMoveState.activeIdx);\n  };\n  onMouseUp = () => {\n    if (this.props.onComplete) {\n      this.props.onComplete(this.value);\n    }\n    this.mouseMoveState.activeIdx = -1;\n    this.mouseMoveState.values = [];\n    this.setState({\n      isDragging: false,\n      activeIdx: this.state.isFocused ? this.state.activeIdx : -1,\n      disableFocusTooltip: true,\n    });\n    window.removeEventListener('mousemove', this.onMouseMove);\n    window.removeEventListener('touchmove', this.onMouseMove);\n    window.removeEventListener('mouseup', this.onMouseUp);\n    window.removeEventListener('touchend', this.onMouseUp);\n    document.body.classList.remove('EminusGlobal--dragging');\n  };\n  onControlPointerDown: PointerDownFn = (e, idx) => {\n    this.handleMouseDown(this.value[idx]);\n    if (this.props.onPointerDown) {\n      this.props.onPointerDown(e, idx);\n    }\n  };\n  onControlMouseEnter = (idx: number) => {\n    if (this.state.hoverIdx === -1) {\n      this.setState({ hoverIdx: idx });\n    }\n  };\n  onControlMouseLeave = () => {\n    // this.setState({ hoverIdx: -1 });\n    this.setState({ hoverIdx: -1, disableFocusTooltip: true });\n  };\n  onControlFocus: ControlFocusFn = (e, idx) => {\n    if (this.props.onFocus) {\n      this.props.onFocus(e, idx);\n    }\n    if (!this.state.isDragging) {\n      this.setState({\n        disableFocusTooltip: false,\n        hoverIdx: -1,\n      });\n    }\n    this.setState({\n      isFocused: true,\n      activeIdx: idx,\n    });\n    document.addEventListener('keydown', this.onKeyDown);\n  };\n  onControlBlur: ControlBlurFn = (e, idx) => {\n    if (idx !== this.state.activeIdx) return;\n    if (this.props.onBlur) {\n      this.props.onBlur(e, idx);\n    }\n    this.setState({\n      activeIdx: -1,\n    });\n    document.removeEventListener('keydown', this.onKeyDown);\n  };\n  onKeyDown = (e: KeyboardEvent) => {\n    const { key } = e;\n    const idx = this.state.activeIdx;\n    if (idx === -1) {\n      return;\n    }\n    const { min, max, step } = this;\n    const value = this.value[idx];\n    if (key === 'ArrowLeft' || key === 'ArrowUp') {\n      e.preventDefault();\n      this.moveControl(Math.max(value - step, min), idx);\n      this.setState({\n        disableFocusTooltip: false,\n      });\n    } else if (key === 'ArrowRight' || key === 'ArrowDown') {\n      e.preventDefault();\n      this.moveControl(Math.min(value + step, max), idx);\n      this.setState({\n        disableFocusTooltip: false,\n      });\n    }\n  };\n\n  // lifecycle\n  componentWillUnmount() {\n    window.removeEventListener('mousemove', this.onMouseMove);\n    window.removeEventListener('touchmove', this.onMouseMove);\n    window.removeEventListener('mouseup', this.onMouseUp);\n    window.removeEventListener('touchend', this.onMouseUp);\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  // utils\n  $findControlByIdx(idx: number): HTMLDivElement | null {\n    return this.rootRef.current?.querySelector(`[data-idx=\"${idx}\"]`) ?? null;\n  }\n  $focusControl(idx: number) {\n    const $el = this.$findControlByIdx(idx);\n    if ($el) {\n      $el.focus();\n    }\n  }\n  extractValueFromClickPoint(global: number): number {\n    const { rootRef } = this;\n    if (!rootRef.current) return 0;\n    const { min, max, step } = this;\n    const { vertical } = this.props;\n    const rootRect = rootRef.current.getBoundingClientRect();\n    const size = Math.abs(\n      vertical ? rootRect.top - rootRect.bottom : rootRect.left - rootRect.right\n    );\n    const v = Math.max(global - (vertical ? rootRect.top : rootRect.left), 0);\n    return (\n      Math.round(((max - min) * Math.min(v / size, 1) + min) / step) * step\n    );\n  }\n  generateNewValueAndCommit(value: number, idx: number) {\n    const currentValue = this.value[idx];\n    if (currentValue === value) return;\n    const newValue = this.generateNewValue(value, idx);\n    this.commitNewValue(newValue);\n  }\n  generateNewValue = (value: number, idx: number): number[] => {\n    const { value: currentValue } = this;\n    if (currentValue.length <= 1) {\n      return [value];\n    } else {\n      const newValue = [...currentValue];\n      newValue[idx] = value;\n      return newValue;\n    }\n  };\n  commitNewValue(value: number[]) {\n    const oldValue = this.value;\n    const newValue = this.normalizeValue(value, this.min, this.max);\n    if (!isArraysEq(oldValue, newValue)) {\n      this.mouseMoveState.values = newValue;\n      this.props.onChange(newValue);\n    }\n  }\n  moveControl(nextValue: number, idx: number) {\n    const { value, minDist } = this;\n    const { disableCross } = this.props;\n    const currentValue = value[idx];\n    if (currentValue === nextValue) return;\n    if (value.length <= 1) {\n      return this.generateNewValueAndCommit(nextValue, idx);\n    }\n    const dir: MoveDir = nextValue - currentValue > 0 ? 1 : -1;\n    const deadlockSwitchIdx = this.getNextIdxIfDeadlock(idx, dir);\n    const isDeadlock = deadlockSwitchIdx !== -1;\n    let bound = { idx: -1, value: 0 };\n    const tempBoundIdx = isDeadlock ? deadlockSwitchIdx : idx + dir;\n    let tempBoundValue = value[tempBoundIdx];\n    if (!isNil(tempBoundValue)) {\n      tempBoundValue += dir === -1 ? minDist : -minDist;\n      if (\n        (dir === -1 && tempBoundValue >= nextValue) ||\n        (dir === 1 && tempBoundValue <= nextValue)\n      ) {\n        bound = { idx: tempBoundIdx, value: tempBoundValue };\n      }\n    }\n    if (bound.idx !== -1) {\n      if (disableCross && !isDeadlock) {\n        this.generateNewValueAndCommit(bound.value, idx);\n      } else {\n        const newValue = [...value];\n        newValue[idx] = bound.value;\n        newValue[bound.idx] = nextValue;\n        this.setState({\n          activeIdx: bound.idx,\n        });\n        this.mouseMoveState.activeIdx = bound.idx;\n        this.commitNewValue(newValue);\n        this.$focusControl(bound.idx);\n      }\n    } else {\n      this.generateNewValueAndCommit(nextValue, idx);\n    }\n  }\n  getNextIdxIfDeadlock(idx: number, dir: MoveDir): number {\n    const values = this.value;\n    const current = values[idx];\n    const maybeDeadLock =\n      values.length > 1 &&\n      this.props.disableCross &&\n      ((dir === 1 && current === this.min) ||\n        (dir === -1 && current === this.max));\n    if (!maybeDeadLock) {\n      return -1;\n    }\n    return values[dir === 1 ? 'reduce' : 'reduceRight'](\n      (acc, value, nextIdx) => {\n        if (nextIdx === idx || value !== current) return acc;\n        else if (dir === 1 && nextIdx > idx) return nextIdx;\n        else if (dir === -1 && nextIdx < idx) return nextIdx;\n        return acc;\n      },\n      -1\n    );\n  }\n\n  normalizeValue(value: number[], min: number, max: number) {\n    return sortArray(value.map(n => clamp(n, min, max)));\n  }\n  // getters\n  get value(): number[] {\n    if (this.state.isDragging) {\n      return this.mouseMoveState.values;\n    }\n    return this.normalizeValue(this.props.value, this.min, this.max);\n  }\n  get min(): number {\n    return this.props.min as number;\n  }\n  get max(): number {\n    return this.props.max as number;\n  }\n  get step(): number {\n    return this.props.step as number;\n  }\n  get activeIdx(): number {\n    if (this.state.isDragging) {\n      return this.mouseMoveState.activeIdx;\n    }\n    return this.state.activeIdx;\n  }\n  get activeTooltipIdx(): number {\n    const { state } = this;\n    if (this.props.hideTooltip) return -1;\n    else if (state.hoverIdx !== -1) return state.hoverIdx;\n    else if (state.disableFocusTooltip && !state.isDragging) {\n      return -1;\n    }\n    return this.activeIdx;\n  }\n  get tooltipValues(): number[] {\n    const { value } = this;\n    if (this.props.alwaysShowTooltip) {\n      return value;\n    }\n    const activeIdx = this.activeTooltipIdx;\n    if (activeIdx === -1) return [];\n    return [value[activeIdx]];\n  }\n  get minDist(): number {\n    const dist = this.props.minDist;\n    if (!this.props.disableCross || !dist || dist < 0) {\n      return 0;\n    }\n    return dist;\n  }\n  get rootClassName(): string {\n    return clsx(\n      'Eminus',\n      this.props.disabled && 'Eminus--disabled',\n      this.props.vertical && 'Eminus--vertical',\n      this.state.isDragging && 'Eminus--dragging',\n      this.props.className\n    );\n  }\n  render() {\n    const { props, state, value, min, max, step, tooltipValues } = this;\n    const range: Range = [\n      value.length <= 1 ? 0 : Math.min(...value),\n      Math.max(...value),\n    ];\n    return (\n      <div\n        onTouchStart={this.onRootMouseDown}\n        onMouseDown={this.onRootMouseDown}\n        ref={this.rootRef}\n        style={props.style}\n        className={this.rootClassName}\n      >\n        {!props.hideTrack && (\n          <Track\n            vertical={props.vertical}\n            min={min}\n            max={max}\n            hideTrackProgress={props.hideTrackProgress}\n            range={range}\n          />\n        )}\n        {!isEmpty(props.marks) && (\n          <Marks\n            vertical={props.vertical}\n            labelFormatter={props.markLabelFormatter}\n            onMouseDown={this.onMarkMouseDown}\n            range={range}\n            min={min}\n            max={max}\n            marks={props.marks}\n          />\n        )}\n        {tooltipValues.map((value, idx) => (\n          <Tooltip\n            key={idx}\n            value={value}\n            tooltipFormatter={props.tooltipFormatter}\n            vertical={props.vertical}\n            tooltipRenderer={props.tooltipRenderer}\n            min={min}\n            max={max}\n          />\n        ))}\n        <Controls\n          min={min}\n          max={max}\n          vertical={props.vertical}\n          disabled={props.disabled}\n          step={step}\n          onPointerDown={this.onControlPointerDown}\n          onMouseEnter={this.onControlMouseEnter}\n          onMouseLeave={this.onControlMouseLeave}\n          onFocus={this.onControlFocus}\n          onBlur={this.onControlBlur}\n          isDragging={state.isDragging}\n          activeIdx={this.activeIdx}\n          ariaLabel={props.ariaLabel}\n          ariaLabelledBy={props.ariaLabelledBy}\n          ariaDescribedBy={props.ariaDescribedBy}\n          ariaValueTextFormatter={props.ariaValueTextFormatter}\n          values={value}\n        />\n      </div>\n    );\n  }\n}\nexport default Eminus;\n","type Acc = {\n  nearest: number;\n  nearestIdx: number;\n};\nexport const findNearestNumberIdx = (\n  array: number[],\n  value: number\n): number => {\n  const { nearestIdx: nearest } = array.reduce(\n    (acc, n, idx) => {\n      const { nearest, nearestIdx } = acc;\n      const dist = Math.abs(value - n);\n      const newAcc: Acc = { nearestIdx: idx, nearest: dist };\n      if (dist > nearest) {\n        return acc;\n      } else if (dist < nearest) {\n        return newAcc;\n      } else {\n        const isIdxMoreSuitableThanCurrent =\n          (value > n && idx > nearestIdx) || (value < n && idx < nearestIdx);\n        if (isIdxMoreSuitableThanCurrent) return newAcc;\n        else return acc;\n      }\n    },\n    { nearestIdx: -1, nearest: Infinity } as Acc\n  );\n  return nearest;\n};\n","type Arr = number[];\nexport const isArraysEq = (arr1: Arr, arr2: Arr): boolean => {\n  if (!arr1 || !arr2) return false;\n  const len1 = arr1.length,\n    len2 = arr2.length;\n  if (len1 !== len2) return false;\n  else if (!len1 && !len2) return true;\n  else if (len1 === 1 && len2 === 1) return arr1[0] === arr2[0];\n  else if (len1 === 2 && len2 === 2) {\n    return arr1[0] === arr2[0] && arr1[1] === arr2[1];\n  }\n  return !arr1.some((v, idx) => v !== arr2[idx]);\n};\n","export function sortArray(array: number[]): number[] {\n  if (array.length <= 1) return array;\n  else if (array.length === 2) {\n    return array[0] > array[1] ? [array[1], array[0]] : array;\n  }\n  return array.slice().sort((a, b) => a - b);\n}\n","export function isEmpty<T>(value?: T[]): boolean {\n  return !(value && value.length > 0);\n}\n","import React, { Component } from 'react';\nimport { OnChangeFn } from '../../typings/event-fns';\nimport { UncontrolledRootProps } from '../../typings/root-props';\nimport Eminus from './';\n\ntype Props = UncontrolledRootProps;\ntype State = {\n  value: number[];\n};\nclass EminusUncontrolled extends Component<Props, State> {\n  static defaultProps: Omit<Props, 'defaultValue'> = {\n    min: 0,\n    max: 100,\n    step: 1,\n    disableCross: false,\n    marks: [],\n    ariaLabel: [],\n    ariaLabelledBy: [],\n    ariaDescribedBy: [],\n  };\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      value: props.defaultValue,\n    };\n  }\n  onChange: OnChangeFn = value => {\n    this.setState({ value });\n    if (this.props.onChange) {\n      this.props.onChange(value);\n    }\n  };\n  render() {\n    const { defaultValue: _d, ...props } = this.props;\n    return (\n      <Eminus value={this.state.value} onChange={this.onChange} {...props} />\n    );\n  }\n}\nexport default EminusUncontrolled;\n","import { configure } from '@storybook/react';\n    /* // preview entry\nimport '/home/runner/work/eminus/eminus/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js';\n// preview entry\nimport '/home/runner/work/eminus/eminus/node_modules/@storybook/core-client/dist/esm/globals/globals.js'; */\n\n    import { addDecorator, addParameters, addLoader, addArgTypesEnhancer, addArgsEnhancer } from '@storybook/client-api';\n    import { logger } from '@storybook/client-logger';\n    import * as config_0 from '/@fs//home/runner/work/eminus/eminus/.storybook/preview.js'\nimport * as config_1 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js'\nimport * as config_2 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js'\nimport * as config_3 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js'\nimport * as config_4 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js'\nimport * as config_5 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js'\nimport * as config_6 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js'\nimport * as config_7 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js'\nimport * as config_8 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js'\nimport * as config_9 from '/@fs//home/runner/work/eminus/eminus/node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js'\n    import * as story_0 from '/@fs//home/runner/work/eminus/eminus/src/stories/Aria.stories.tsx'\nimport * as story_1 from '/@fs//home/runner/work/eminus/eminus/src/stories/ControlledAndUncontrolled.stories.mdx'\nimport * as story_2 from '/@fs//home/runner/work/eminus/eminus/src/stories/Eminus.stories.tsx'\nimport * as story_3 from '/@fs//home/runner/work/eminus/eminus/src/stories/Styling.stories.mdx'\nimport * as story_4 from '/@fs//home/runner/work/eminus/eminus/src/stories/Tooltips.stories.mdx'\n      \n    const configs = [config_0,config_1,config_2,config_3,config_4,config_5,config_6,config_7,config_8,config_9]\n    configs.forEach(config => {\n      Object.keys(config).forEach((key) => {\n        const value = config[key];\n        switch (key) {\n          case 'args':\n          case 'argTypes': {\n            return logger.warn('Invalid args/argTypes in config, ignoring.', JSON.stringify(value));\n          }\n          case 'decorators': {\n            return value.forEach((decorator) => addDecorator(decorator, false));\n          }\n          case 'loaders': {\n            return value.forEach((loader) => addLoader(loader, false));\n          }\n          case 'parameters': {\n            return addParameters({ ...value }, false);\n          }\n          case 'argTypesEnhancers': {\n            return value.forEach((enhancer) => addArgTypesEnhancer(enhancer));\n          }\n          case 'argsEnhancers': {\n            return value.forEach((enhancer) => addArgsEnhancer(enhancer))\n          }\n          case 'globals':\n          case 'globalTypes': {\n            const v = {};\n            v[key] = value;\n            return addParameters(v, false);\n          }\n          default: {\n            // eslint-disable-next-line prefer-template\n            return console.log(key + ' was not supported :( !');\n          }\n        }\n      });\n    })\n    \n    /* TODO: not quite sure what to do with this, to fix HMR\n    if (import.meta.hot) {\n        import.meta.hot.accept();    \n    }\n    */\n    \n    configure(() => [story_0,story_1,story_2,story_3,story_4].filter(el => el.default), { hot: import.meta.hot }, false); // not sure if the import.meta.hot thing is correct"],"names":["relList","document","createElement","supports","link","querySelectorAll","MutationObserver","mutations","mutation","type","node","addedNodes","tagName","rel","observe","childList","subtree","ep","fetchOpts","script","integrity","referrerpolicy","referrerPolicy","crossorigin","credentials","getFetchOpts","href","p","layout","options","storySort","order","extractPointerCoords","e","x","touches","clientX","y","clientY","isInRange","value","start","end","Math","min","max","mapNumberToPercent","a","b","c","d","mapNumber","clamp","isNil","React","PureComponent","constructor","preventDefault","stopPropagation","props","onMouseDown","this","labelFormatter","mark","label","vertical","render","sharedStyle","className","clsx","isActive","onTouchStart","style","Marks","marks","map","idx","Mark","range","key","defaultProps","Component","hideTrackProgress","progressStyle","onBlur","onFocus","onMouseEnter","onPointerDown","ariaValueText","disabled","ariaLabel","ariaLabelledBy","ariaDescribedBy","onMouseLeave","pointerEvents","isDragging","cursor","role","tabIndex","Controls","values","n","Control","ariaValueTextFormatter","activeIdx","step","Tooltip","content","tooltipFormatter","tooltipRenderer","disableFocusTooltip","isFocused","hoverIdx","createRef","point","extractValueFromClickPoint","handleMouseDown","state","setState","newValue","moveControl","mouseMoveState","onComplete","removeEventListener","onMouseMove","onMouseUp","body","classList","remove","addEventListener","onKeyDown","currentValue","length","nearest","array","nearestIdx","reduce","acc","dist","abs","newAcc","nearest2","Infinity","findNearestNumberIdx","add","$focusControl","componentWillUnmount","$findControlByIdx","rootRef","current","querySelector","$el","focus","global2","rootRect","getBoundingClientRect","size","top","bottom","left","right","v","round","generateNewValueAndCommit","generateNewValue","commitNewValue","oldValue","normalizeValue","arr1","arr2","len1","len2","some","isArraysEq","onChange","nextValue","minDist","disableCross","dir","deadlockSwitchIdx","getNextIdxIfDeadlock","isDeadlock","bound","tempBoundIdx","tempBoundValue","nextIdx","slice","sort","hideTooltip","alwaysShowTooltip","activeTooltipIdx","tooltipValues","onRootMouseDown","ref","rootClassName","hideTrack","Track","isEmpty","markLabelFormatter","onMarkMouseDown","value2","onControlPointerDown","onControlMouseEnter","onControlMouseLeave","onControlFocus","onControlBlur","Eminus","defaultValue","_a","_d","__spreadValues","EminusUncontrolled","config_0","config_1","config_2","config_3","config_4","config_5","config_6","config_7","config_8","config_9","forEach","keys","config","logger","warn","JSON","stringify","decorator","addDecorator","loader","addLoader","addParameters","enhancer","addArgTypesEnhancer","addArgsEnhancer","console","log","configure","story_0","story_1","story_2","story_3","story_4","filter","el","default","hot"],"mappings":"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"}